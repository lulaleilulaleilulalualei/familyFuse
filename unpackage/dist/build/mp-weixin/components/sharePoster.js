(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/sharePoster"],{"4da2":function(t,o,e){"use strict";e.r(o);var n=e("c57d"),s=e.n(n);for(var i in n)"default"!==i&&function(t){e.d(o,t,function(){return n[t]})}(i);o["default"]=s.a},"7e2d":function(t,o,e){},8706:function(t,o,e){"use strict";e.r(o);var n=e("b55e"),s=e("4da2");for(var i in s)"default"!==i&&function(t){e.d(o,t,function(){return s[t]})}(i);e("e713");var a=e("2877"),c=Object(a["a"])(s["default"],n["a"],n["b"],!1,null,"0d02172e",null);o["default"]=c.exports},b55e:function(t,o,e){"use strict";var n=function(){var t=this,o=t.$createElement;t._self._c},s=[];e.d(o,"a",function(){return n}),e.d(o,"b",function(){return s})},c57d:function(t,o,e){"use strict";(function(t){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var e={data:function(){return{posterUrl:""}},props:{_isShowBox:{type:Boolean,default:!1},dear_id:Number},watch:{_isShowBox:function(t){t&&""==this.posterUrl&&this.toGetPosterCode()}},methods:{toClosePosterBox:function(){this.$emit("toClosePosterBox",!1)},toGetPosterCode:function(){var o=this;t.showLoading({title:"海报加载中",mask:!0}),this.$api.ajax({url:this.$config.getPosterCode,data:{dear_id:this.dear_id}}).then(function(e){200==e.statusCode&&0==e.data.code?(o.posterUrl=e.data.data,t.hideLoading()):(t.hideLoading(),o.$api.warnNotice(e.data.message),o.$emit("toClosePosterBox",!1))}).catch(function(){t.hideLoading(),o.$api.warnNotice("获取海报失败"),o.$emit("toClosePosterBox",!1)})},saveImg:function(){var o=this;t.showModal({title:"",content:"由于当前小程序无法分享到朋友圈，是否将下载海报到本地相册",cancelColor:"#909399",confirmColor:"#FF0014",success:function(t){t.confirm&&o.saveImgMay()}})},saveImgMay:function(){var o=this;t.downloadFile({url:o.posterUrl,success:function(e){t.getSetting({success:function(n){n.authSetting["scope.writePhotosAlbum"]?t.saveImageToPhotosAlbum({filePath:e.tempFilePath,success:function(e){t.showToast({title:"保存成功",icon:"success",success:function(){setTimeout(function(){o.$emit("toClosePosterBox",!1)},1500)}})}}):t.authorize({scope:"scope.writePhotosAlbum",success:function(){t.saveImageToPhotosAlbum({filePath:e.tempFilePath,success:function(e){t.showToast({title:"保存成功",icon:"success",success:function(){setTimeout(function(){o.$emit("toClosePosterBox",!1)},1500)}})}})},fail:function(t){o.$api.warnNotice("您已拒绝授权，如需重新获得该功能请删除小程序后重新下载")}})},fail:function(t){console.log(t),o.$api.warnNotice("操作失败")}})},fail:function(t){console.log(t),o.$api.warnNotice("操作失败")}})}}};o.default=e}).call(this,e("543d")["default"])},e713:function(t,o,e){"use strict";var n=e("7e2d"),s=e.n(n);s.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/sharePoster-create-component',
    {
        'components/sharePoster-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("8706"))
        })
    },
    [['components/sharePoster-create-component']]
]);                
